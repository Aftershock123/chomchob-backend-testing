{
  "info": {
    "name": "Simple Wallet API",
    "_postman_id": "a1b2c3d4-5678-90ab-cdef-1234567890ab",
    "description": "API for managing cryptocurrency transfers and admin functionalities.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Create User And Wallet",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          
          "raw1": {
            "username":"user3",
            "password":"test3"
          },
          "description": "หากไม่กรอก CryptocurrencyId จะเลือก CryptocurrencyId = 1",

          "raw2": {
            "username":"user3",
            "password":"test3",
            "CryptocurrencyId":2 
          }            
        },
        "url": {
          "raw": "http://localhost:3000/api/create",
          "protocol": "http",
          "host": [
            "localhost"
          ],
          "port": "3000",
          "path": [
            "api",
            "create"
          ]
        }
      },
      "response": [
        {
          "user": {
            "role": "user",
            "id": 12,
            "username": "user3",
            "password": "$2a$10$G8RA8ijDQy2n2NWtKeDXC.Df3uv3FXWrbftllzP3dyv5jAhrfS6mO",
            "updatedAt": "2024-06-22T10:28:46.204Z",
            "createdAt": "2024-06-22T10:28:46.204Z"
          },
          "wallet": {
            "balance": 0,
            "id": 3,
            "CryptocurrencyId": 1,
            "updatedAt": "2024-06-22T10:28:46.224Z",
            "createdAt": "2024-06-22T10:28:46.224Z"
          }
        }
      ]
    },
    {
      "name": "login",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": {
            "username":"user3",
            "password":"test3"
          }          
        },
        "url": {
          "raw": "http://localhost:3000/api/login",
          "protocol": "http",
          "host": [
            "localhost"
          ],
          "port": "3000",
          "path": [
            "api",
            "login"
          ]
        }
      },
      "response": [
        {
          "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTIsInVzZXJuYW1lIjoidXNlcjMiLCJyb2xlIjoidXNlciIsImlhdCI6MTcxOTA1MjI1OSwiZXhwIjoxNzE5MDU1ODU5fQ.isrAzq7CwPaF715_rZd0U3URu8BFeiLUYHRbX-t8qVo"
        }
      ]
    },
    {
      "name": "Create Cryptocurrency",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "admin_token"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": {
            "name":"Ethereum",
            "symbol": "ETH"
          }
        },
        "url": {
          "raw": "http://localhost:3000/api/admin/cryptocurrency",
          "protocol": "http",
          "host": [
            "localhost"
          ],
          "port": "3000",
          "path": [
            "api",
            "admin",
            "cryptocurrency"
          ]
        }
      },
      "response": {
        "id": 2,
        "name": "Ethereum",
        "symbol": "ETH",
        "updatedAt": "2024-06-22T10:36:12.950Z",
        "createdAt": "2024-06-22T10:36:12.950Z"
      }
    },
    {
      "name": "Update User Balance",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value":"admin_token"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": {
            "userId":18,
            "cryptoId":2,
            "amount":100
          }
        },
        "url": {
          "raw": "http://localhost:3000/api/admin/balance",
          "protocol": "http",
          "host": [
            "localhost"
          ],
          "port": "3000",
          "path": [
            "api",
            "admin",
            "balance"
          ]
        }
      },
      "response":{
        "id": 4,
        "balance": 190,
        "createdAt": "2024-06-22T11:08:53.000Z",
        "updatedAt": "2024-06-22T11:44:43.478Z",
        "UserId": 18,
        "CryptocurrencyId": 2
      }
    },
    {
      "name": "Get Total Balance",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value":"admin_token"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": {

          }
        },
        "url": {
          "raw": "http://localhost:3000/api/admin/total-balance",
          "protocol": "http",
          "host": [
            "localhost"
          ],
          "port": "3000",
          "path": [
            "api",
            "admin",
            "total-balance"
          ]
        }
      },
      "response":{
        "totalBalance": 100.5
      }
    },
    {
      "name": " Create exchange-rate",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value":"admin_token"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": {
            "cryptoId":1,
            "targetSymbol": "ETH",
            "rate":"0.5"
          }
        },
        "url": {
          "raw": "http://localhost:3000/api/admin/exchange-rate",
          "protocol": "http",
          "host": [
            "localhost"
          ],
          "port": "3000",
          "path": [
            "api",
            "admin",
            "exchange-rate"
          ]
        }
      },
      "response": {
        "id": 1,
        "CryptocurrencyId": 1,
        "targetSymbol": "ETH",
        "rate": "0.5",
        "updatedAt": "2024-06-22T10:42:08.072Z",
        "createdAt": "2024-06-22T10:42:08.072Z"
      }
    },
    {
      "name": " Transfer same cryptocurrency between users",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "user_token"
          }
        ],
        "body": {
          "mode": "raw",
          "raw":{
            "senderId":10,
            "receiverId": 11,
            "cryptoSymbol":"BTC",
            "amount":"100"
          }
        },
        "url": {
          "raw": "http://localhost:3000/api/user/transfer",
          "protocol": "http",
          "host": [
            "localhost"
          ],
          "port": "3000",
          "path": [
            "api",
            "user",
            "transfer"
          ]
        },
        "response": {
          "message": "Transfer successful"
        }
      }
    },
    {
      "name": "Transfer different cryptocurrencies between users",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "user_token"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": {
            "senderId":18,
            "receiverId": 11,
            "fromCryptoSymbol":"ETH",
            "toCryptoSymbol":"BTC",
            "amount":10
          }
        },
        "url": {
          "raw": "http://localhost:3000/api/user/transfer/exchange",
          "protocol": "http",
          "host": [
            "localhost"
          ],
          "port": "3000",
          "path": [
            "api",
            "user",
            "transfer",
            "exchange"
          ]
        }
      },
      "response": {
        "message": "Exchange transfer successful"
      }
    }   
  ]
}
